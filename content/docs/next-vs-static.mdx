---
title: "Next App vs Static App"
---

Sazzy contains both **Next App** and pure HTML/CSS/JavaScript pages (**Static App**).

Next App is a fully functional Next.js app while **Static App has some limitations**.

## What is Static App

Static App is basically the output of [`next export`](https://nextjs.org/docs/advanced-features/static-html-export) but more human-readable and lightweight in the following ways:

- BEM-like CSS class names - no random hashes
- Per-page CSS file
- No React runtime

### File structure of Static App

:::warn
Files are omitted for brevity.
:::

```md
- index.html
- contact.html
- favicon.ico
- blog
  - post-1.html
  - post-2.html
- styles
  - global.css
  - index.css
  - contact.css
  - blog
    - post-1.css
    - post-2.css
- scripts
  - global.js
  - module.js
- images
  - image-1.png
  - image-2.webp
```

### HTML example

```html
<form>
  <label class="Field">
    <span class="Field__labelText">
      Email
      <span class="Field__required">*</span>
    </span>
    <input placeholder="address@example.com" required class="Input" />
  </label>
  <label class="Field">
    <span class="Field__labelText">
      Password
      <span class="Field__required">*</span>
    </span>
    <input type="password" required class="Input" />
  </label>
  <button class="Button Button__solid">Sign up</button>
</form>
```

## Limitation of Static App

### Lack of blog/docs content management

As they are just exported static files, the content management system is not supported.

### Some components do not work

**[Popover](http://localhost:3900/docs/components#popover-nextjs-only) (used in the header) does not work in Static App**.

This is because Popover is implemented with [Headless UI](https://headlessui.com/react/popover) and it's not easy to port it to pure JavaScript.

**It's your responsibility to implement accessible popover logic** if you choose Static App.

:::info
Other components like [Accordion](/docs/components#accordion), [Dialog](/docs/components#dialog), [Tooltip](/docs/components/#tooltip) work fine without client-side JavaScript.
:::

## Optimizing Next App

Due to the support for Static App, some Next.js' optimizations are disabled by default.

If you don't need Static App, here are possible optimizations you can opt-in:

### Global CSS files

First, move all the CSS files under the `/public/styles` to `/src/styles`.

Then:

```tsx title="/pages/_document.tsx" {6-9}
export default function Document() {
  return (
    <Html>
      <Head>
      {...}
        <link rel="stylesheet" href="/styles/normalize.css" />
        <link rel="stylesheet" href="/styles/tokens.css" />
        <link rel="stylesheet" href="/styles/globals.css" />
        <link rel="stylesheet" href="/styles/prism.css" />
      </Head>
      {...}
    </Html>
  );
}
```

```tsx:/pages/_app.tsx
import "@/styles/globals.css";
import "@/styles/normalize.css";
import "@/styles/tokens.css";
import "@/styles/prism.css";
```

### Font by `@next/font`

You can also enable [@next/font](https://nextjs.org/docs/api-reference/next/font) to optimize font loading.

```diff-tsx:/pages/_app.tsx
import { Inter } from '@next/font/google'
const inter = Inter()

function CustomApp({ Component }) {
  return (
    <>
+      <style jsx global>{`
+        html {
+          font-family: ${inter.style.fontFamily};
+        }
+      `}</style>
      <Component {...pageProps} />
    </>
  );
}
```

```diff-tsx:/pages/_document.tsx
export default function Document() {
  return (
    <Html>
      <Head>
-        <link
-          href="https://fonts.googleapis.com/css2?family=Inter:wght@400..800&display=swap"
-          rel="stylesheet"
-        ></link>
      </Head>
    </Html>
  );
}


```

```diff-css:/styles/globals.css
html {
-  font-family: Inter, "Helvetica Neue", Arial, sans-serif;
}
```

### Class names of CSS Modules

To generate readable class names for Static App, `css-loader` is configured in an opinionated way in `next.config.mjs`.

You can opt out from the behavior by deleting the following lines:

```diff-js:next.config.mjs
const nextConfig = {
  reactStrictMode: true,
  swcMinify: true,
  {...},
  webpack: (config) => {
-    config.module.rules
-      .find(({ oneOf }) => !!oneOf)
-      .oneOf.filter(({ use }) => JSON.stringify(use)?.includes("css-loader"))
-      .reduce((acc, { use }) => acc.concat(use), [])
-      .forEach(({ options }) => {
-        if (options.modules) {
-          options.modules.getLocalIdent = (
-            context,
-            localIdentName,
-            localName
-          ) => {
-            return buildScopedClassName(localName, context.resourcePath);
-          };
-        }}
-      });
    return config;
  },
};
```
